(executable
 (public_name act)
 (modules act)
 (libraries base core_kernel core toplevel act.utils))

(executable
 (name act_fuzz)
 (public_name act-fuzz)
 (modules act_fuzz)
 (libraries base core_kernel core toplevel act.utils))

(rule
 (targets specs.output)
 (action
  (with-stdout-to
   specs.output
   (run act config "list-compilers" "-verbose" "-config" "act.conf.example")))
 (deps "act.conf.example"))

(alias
 (name runtest)
 (action
  (diff specs.expected specs.output)))
