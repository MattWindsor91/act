(executable
 (public_name act)
 (preprocess
  (pps ppx_jane))
 (modules act)
 (libraries core_kernel core toplevel act.utils))

(rule
 (targets specs.output)
 (action
  (with-stdout-to
   specs.output
   (run act config "list-compilers" "-verbose" "-config" "act.conf.example")))
 (deps "act.conf.example"))

(alias
 (name runtest)
 (action
  (diff specs.expected specs.output)))
